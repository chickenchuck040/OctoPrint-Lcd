#: kivy 1.9.0

#:import Server octoprint.server

#<Label>:
    #font_name: 'fonts/Ubuntu-M.ttf'

<TimeLabel@BoxLayout>:
    time: "00:00:00"
    title: "No Time"

    spacing: 2
    orientation: 'vertical'

    Label:
        text: root.title
        font_size: 24
        size_hint: 1, None
        text_size: self.width, None
        size: self.texture_size[0], self.texture_size[1]
        halign: 'center'

    Label:
        text: root.time
        font_size: 36
        size_hint: 1, None
        text_size: self.width, None
        size: self.texture_size[0], self.texture_size[1]
        halign: 'center'
        #padding: 5, 10



<OctoprintLcd>:
    pos_hint: {'center_x': .5, 'center_y': .5}
    do_default_tab: False

    TabbedPanelItem:
        text: 'Status'
        BoxLayout:
            orientation: 'vertical'
            Label:
                id: status_label
                text: 'Printing'
                halign: 'center'
                font_size: 48
                text_size: root.width, 60
                size: self.texture_size
                size_hint: 1, None
            Label:
                id: file_label
                text: 'Everything.gcode'
                halign: 'center'
                font_size: 24
                text_size: root.width, 40
                size: self.texture_size
                size_hint: 1, None
            BoxLayout:
                #size: self.width, self.height
                #size_hint: 1, None



            BoxLayout:
                #orientation: 'vertical'
                size: self.width, 50
                size_hint: 1, None

                TimeLabel:
                    id: time_in
                    time: "12:34:54"
                    title: 'Printed'

                TimeLabel:
                    id: time_remaining
                    time: "10:47:32"
                    title: 'Remaining'


                TimeLabel:
                    id: time_total
                    time: "22:21:12"
                    title: 'Total'
            ProgressBar:
                id: progress
                max: 100
                value: 56
                padding: 5
                size: self.width, 30
                size_hint: 1, None
            BoxLayout:
                size_hint: 1, None
                size: self.width, 40
                Button:
                    text: "Print"
                    id: print_button
                    on_press: Server.printer.start_print()
                Button:
                    text: "Pause"
                    id: pause_button
                    on_press: Server.printer.toggle_pause_print()
                Button:
                    text: "Cancel"
                    id: cancel_button
                    on_press: Server.printer.cancel_print()
                    background_color: 2, .5, .5, 1
    TabbedPanelItem:
        text: 'tab2'
        BoxLayout:
            Label:
                text: 'Second tab content area'
            Button:
                text: 'Button that does nothing'
    TabbedPanelItem:
        text: 'tab3'
        #RstDocument:
        #    text: '\\n'.join(("Hello world", "-----------", "You are in the third tab."))
